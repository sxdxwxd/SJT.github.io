<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>送水服务合并记录</title>
    <link
      href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.3.0/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      .bg-light {
        background-color: #f8f9fa !important;
      }
      .navbar {
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      }
      .container {
        max-width: 1200px;
      }
      .chart-container {
        height: 400px;
        margin-bottom: 30px;
        background-color: white;
        border-radius: 8px;
        padding: 15px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.05);
      }
      .table {
        background-color: white;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        margin-bottom: 30px;
      }
      .table th {
        background-color: #f1f3f5;
      }
    </style>
  </head>
  <body class="bg-light">
    <!-- 共用导航栏 -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
      <div class="container">
        <a class="navbar-brand" href="#">送水服务</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="#waterTable">水费记录</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#deliveryTable">送水记录</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="markdown_list.html">明细记录</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container my-5">
      <!-- 水费记录表 -->
      <div id="waterTable" class="mb-5">
        <div class="d-flex justify-content-between mb-4 align-items-center">
          <h2>水费记录表</h2>
        </div>
        <table class="table table-hover table-striped">
          <thead>
            <tr>
              <th>收入</th>
              <th>支出</th>
              <th>余额</th>
              <th>日期</th>
            </tr>
          </thead>
          <tbody id="waterDataBody">
            <!-- 水费数据将通过JS动态生成 -->
          </tbody>
        </table>
      </div>

      <!-- 送水记录表 -->
      <div id="deliveryTable">
        <div class="d-flex justify-content-between mb-4 align-items-center">
          <h2>送水记录与耗水量统计</h2>
        </div>
        <table class="table table-hover table-striped">
          <thead>
            <tr>
              <th>空桶</th>
              <th>新送</th>
              <th>教室总计</th>
              <th>待送</th>
              <th>日期</th>
            </tr>
          </thead>
          <tbody id="deliveryDataBody">
            <!-- 送水数据将通过JS动态生成 -->
          </tbody>
        </table>
        <div class="d-flex justify-content-between align-items-center mt-3">
          <button class="btn btn-outline-primary" onclick="prevPage()">
            上一页
          </button>
          <span id="pageInfo" class="text-muted"></span>
          <button class="btn btn-outline-primary" onclick="nextPage()">
            下一页
          </button>
        </div>
      </div>
    </div>

    <script src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script>
      // 水费记录数据
      const waterRecords = [
        { income: 760, expense: 200, balance: 560, date: "7.18" },
        { income: 0, expense: 100, balance: 460, date: "7.24" },
        { income: 0, expense: 100, balance: 360, date: "7.31" },
        { income: 0, expense: 100, balance: 260, date: "8.6" },
        { income: 0, expense: 100, balance: 160, date: "8.14" },
      ];

      // 送水记录数据
      const deliveryRecords = [
        { emptyBuckets: "-", newDelivery: "-", classTotal: "6", pendingDelivery: "14", date: "7.18" },
        { emptyBuckets: "2", newDelivery: "5", classTotal: "9", pendingDelivery: "9", date: "7.21" },
        { emptyBuckets: "5", newDelivery: "5", classTotal: "9", pendingDelivery: "4", date: "7.22" },
        { emptyBuckets: "3", newDelivery: "0", classTotal: "6", pendingDelivery: "4", date: "7.23" },
        { emptyBuckets: "3", newDelivery: "4", classTotal: "7", pendingDelivery: "14", date: "7.24" },
        { emptyBuckets: "5", newDelivery: "5", classTotal: "7", pendingDelivery: "9", date: "7.28" },
        { emptyBuckets: "4", newDelivery: "5", classTotal: "8", pendingDelivery: "4", date: "7.29" },
        { emptyBuckets: "3", newDelivery: "0", classTotal: "5", pendingDelivery: "4", date: "7.30" },
        { emptyBuckets: "3", newDelivery: "5", classTotal: "7", pendingDelivery: "-1", date: "7.31" },
        { emptyBuckets: "5", newDelivery: "5", classTotal: "7", pendingDelivery: "8", date: "8.3" },
        { emptyBuckets: "4", newDelivery: "5", classTotal: "8", pendingDelivery: "3", date: "8.4" },
        { emptyBuckets: "3", newDelivery: "0", classTotal: "5", pendingDelivery: "3", date: "8.5" },
        { emptyBuckets: "3", newDelivery: "5", classTotal: "8", pendingDelivery: "-2", date: "8.6" },
        { emptyBuckets: "3", newDelivery: "0", classTotal: "5", pendingDelivery: "12", date: "8.7" },
        { emptyBuckets: "2", newDelivery: "5", classTotal: "8", pendingDelivery: "7", date: "8.11" },
        { emptyBuckets: "2", newDelivery: "5", classTotal: "7", pendingDelivery: "6", date: "8.18" },
        { emptyBuckets: "2", newDelivery: "0", classTotal: "5", pendingDelivery: "6", date: "8.19" },

      ];

      // 渲染水费记录表
      function renderWaterTable() {
        const tbody = document.getElementById("waterDataBody");
        tbody.innerHTML = waterRecords
          .map(record => `
            <tr>
              <td>¥${record.income}</td>
              <td>¥${record.expense}</td>
              <td>¥${record.balance}</td>
              <td>${record.date}</td>
            </tr>
          `).join("");
      }

      // 送水记录分页渲染
      let currentPage = 1;
      const pageSize = 5;

      function renderDeliveryTable() {
        const start = (currentPage - 1) * pageSize;
        const end = start + pageSize;
        const tbody = document.getElementById("deliveryDataBody");
        tbody.innerHTML = deliveryRecords
          .slice(start, end)
          .map(record => `
            <tr>
              <td>${record.emptyBuckets}</td>
              <td>${record.newDelivery}</td>
              <td>${record.classTotal}</td>
              <td>${record.pendingDelivery}</td>
              <td>${record.date}</td>
            </tr>
          `).join("");

        document.getElementById("pageInfo").textContent = `第${currentPage}页，共${Math.ceil(deliveryRecords.length / pageSize)}页`;
      }

      function prevPage() {
        if (currentPage > 1) {
          currentPage--;
          renderDeliveryTable();
        }
      }

      function nextPage() {
        if (currentPage < Math.ceil(deliveryRecords.length / pageSize)) {
          currentPage++;
          renderDeliveryTable();
        }
      }

      // 初始化页面
      window.onload = function() {
        renderWaterTable();
        renderDeliveryTable();
      };
    </script>
  </body>
</html>


